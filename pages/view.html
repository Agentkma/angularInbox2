<div class="row toolbar">
    <fieldset ng-disabled="checkMessagesChecked()" class="col-md-12">
        <p class="pull-right">
            <span class="badge badge">{{unreadCount()}}</span> unread messages
        </p>

        <a href="/" class="btn btn-danger">
      <i ng-click="createMessage = !createMessage"class="fa fa-plus"></i>
  </a>

        <button ng-click="toggleCheckAll(message)" class="btn btn-default">
      <i class="fa {{getMessageStatus(message)}}"></i>
    </button>

        <button ng-click="markedAsRead()" class="btn btn-default">Mark As Read</button>

        <button ng-click="markedAsUnRead()" class="btn btn-default">Mark As Unread</button>

        <select ng-change="applyLabel()" ng-model="addLabel" class="form-control label-select">
      <option value="">Apply label</option>
      <option value="dev">dev</option>
      <option value="personal">personal</option>
      <option value="gschool">gschool</option>
    </select>

        <select ng-change="removeLabel()" ng-model="delLabel" class="form-control label-select">
      <option value="">Remove label</option>
      <option value="dev">dev</option>
      <option value="personal">personal</option>
      <option value="gschool">gschool</option>
    </select>

        <button ng-click="deleteMessage()" class="btn btn-default">
      <i class="fa fa-trash-o"></i>
    </button>
    </fieldset>
</div>

<div ng-init="!createMessage" ng-show="createMessage" class="container">
    <div class="col-md-5">
        <div class="form-area">
            <form role="form">
                <legend>New Message</legend>
                <br style="clear:both">
                <h3 style="margin-bottom: 25px; text-align: center;">Write Message</h3>
                <div class="form-group">
                    <input ng-model="newMessage.name" type="text" class="form-control" id="name" name="name" placeholder="Name" required>
                </div>
                <div class="form-group">
                    <input ng-model="newMessage.email" type="text" class="form-control" id="email" name="email" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="mobile" name="mobile" placeholder="Mobile Number" required>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="subject" name="subject" placeholder="Subject" required>
                </div>
                <div class="form-group">
                    <textarea class="form-control" type="textarea" id="message" placeholder="Message" maxlength="140" rows="7"></textarea>
                    <span class="help-block"><p id="characterLeft" class="help-block ">You have reached the limit</p></span>
                </div>

                <button type="button" id="submit" name="submit" class="btn btn-primary pull-right">Submit Form</button>
            </form>
        </div>
    </div>
</div>


<div ng-repeat="message in messages">

    <div class="row message {{getMessageClasses(message)}} ">
        <div class=" col-xs-1 ">
            <div class="row ">
                <div class="col-xs-2 ">
                    <input ng-model="message.selected" type="checkbox" />
                </div>
                <div ng-click="message.starred = !message.starred" class="col-xs-2 ">
                    <i ng-show="!message.starred" class="star fa fa-star-o "></i>
                    <i ng-show="message.starred" class="star fa fa-star "></i>
                </div>
            </div>
        </div>
        <div class="col-xs-11 ">
            <div class="label-div" ng-repeat="label in message.labels | orderBy ">
                <span class="label label-warning ">{{label}}</span>
            </div>
            <a href="# ">{{message.subject}}</a>
        </div>
    </div>
</div>
